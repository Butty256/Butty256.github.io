<!doctype html><html lang=ja prefix="og: http://ogp.me/ns#"><head><title>ヒードランは，十字のツメを食いこませて TeX や TikZ を這い回る。 - Daiji Blog</title><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=google-site-verification content="DvAmtcJ-4mAzUR3EOVgXJIuW56ccEiKjtuw3JVBdw84"><meta name=twitter:card content="summary"><meta name=twitter:site content="@Daiji256"><meta name=twitter:title content="ヒードランは，十字のツメを食いこませて TeX や TikZ を這い回る。"><meta name=twitter:description content="※この記事は Qiita に投稿していた内容です。 はじめに 先日（2021-02-27）にポケットモンスターダイヤモンド・パールのリメイクのブリリアントダイヤモンド・シャイニングパールが発表されました。15"><meta name=twitter:image content="https://daiji256.github.io/images/apple-touch-icon.png"><meta property="og:url" content="https://daiji256.github.io/posts/tex-latex/tex-tikz-heatran/"><meta property="og:type" content="article"><meta property="og:title" content="ヒードランは，十字のツメを食いこませて TeX や TikZ を這い回る。"><meta property="og:description" content="※この記事は Qiita に投稿していた内容です。 はじめに 先日（2021-02-27）にポケットモンスターダイヤモンド・パールのリメイクのブリリアントダイヤモンド・シャイニングパールが発表されました。15"><meta property="og:site_name" content="Daiji Blog"><meta property="og:image" content="https://daiji256.github.io/images/apple-touch-icon.png"><link rel="shortcut icon" type=image/x-icon href=https://daiji256.github.io/images/favicon.ico><link rel=apple-touch-icon type=image/png href=https://daiji256.github.io/images/apple-touch-icon.png><link rel=stylesheet href=https://daiji256.github.io/css/base.css><link rel=stylesheet href=https://daiji256.github.io/css/fonts.css><link rel=stylesheet href=https://daiji256.github.io/css/one-dark.css><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/katex@0.13.13/dist/katex.min.css integrity=sha384-RZU/ijkSsFbcmivfdRBQDtwuwVqK7GMOw6IMvKyeWL2K5UAlyp6WonmB8m7Jd0Hn crossorigin=anonymous><script defer src=https://cdn.jsdelivr.net/npm/katex@0.13.13/dist/katex.min.js integrity=sha384-pK1WpvzWVBQiP0/GjnvRxV4mOb0oxFuyRxJlk6vVw146n3egcN5C925NCP7a7BY8 crossorigin=anonymous></script><script defer src=https://cdn.jsdelivr.net/npm/katex@0.13.13/dist/contrib/auto-render.min.js integrity=sha384-vZTG03m+2yp6N6BNi5iM4rW4oIwk5DfcNdFfxkk9ZWpDriOkXX8voJBFrAO7MpVl crossorigin=anonymous onload="renderMathInElement(document.body,{delimiters:[{left:'$$',right:'$$',display:true},{left:'$',right:'$',display:false}]});"></script><script src=https://daiji256.github.io/js/menu.js></script></head><body><div class=all-wrapper><header><div class=container><ul><li><a href=https://daiji256.github.io/ class=item><img src=https://daiji256.github.io/images/icon.svg width=28 height=28 title=ホーム class=user-icon><div class=site-title>Daiji Blog</div></a></li><li><a href=https://daiji256.github.io/ class=item><div class=text>ホーム</div></a></li><li><a href=https://daiji256.github.io/categories/ class=item><div class=text>カテゴリ</div></a></li><li><a href=https://daiji256.github.io/tags/ class=item><div class=text>タグ</div></a></li><li><a href=https://daiji256.github.io/about/ class=item><div class=text>プロフィール</div></a></li><li class=menu-button id=menu_button><div class=menu-button-bars id=menu_button_bars><div class=bar></div><div class=bar></div><div class=bar></div></div></li></ul></div></header><nav class=menu id=header_menu><ul class=menu-ul><li><a href=https://daiji256.github.io/>ホーム</a></li><li><a href=https://daiji256.github.io/categories/>カテゴリ</a></li><li><a href=https://daiji256.github.io/tags/>タグ</a></li><li><a href=https://daiji256.github.io/about/>プロフィール</a></li></ul><div class=menu-back></div></nav><div class=post-wrapper><div class=main-line><div class=post><div class=info><div class=title>ヒードランは，十字のツメを食いこませて TeX や TikZ を這い回る。</div><div class=post-info><span aria-hidden=true class="icons ic-clock logo"></span><div class=text>2021 年 2 月 28 日</div><span aria-hidden=true class="icons ic-update logo"></span><div class=text>2021 年 9 月 4 日</div></div><div class=post-info><span aria-hidden=true class="icons ic-folder logo"></span><a href=https://daiji256.github.io/categories/tex-latex/ class=text>TeX-LaTeX</a></div><div class=post-info><span aria-hidden=true class="icons ic-tag logo"></span><a href=https://daiji256.github.io/tags/%E3%83%8D%E3%82%BF/ class=text>ネタ</a><a href=https://daiji256.github.io/tags/tikz/ class=text>TikZ</a></div></div><section class=sec-content><div class=content><p>※この記事は Qiita に投稿<strong>していた</strong>内容です。</p><h1 id=はじめに>はじめに</h1><p>先日（2021-02-27）にポケットモンスターダイヤモンド・パールのリメイクのブリリアントダイヤモンド・シャイニングパールが発表されました。15 年間もヒードランは壁や天井を這い回っていました。たまには他の場所も這い回りたいことでしょう。ここではヒードランに TeX と TikZ<sup id=fnref:1><a href=#fn:1 class=footnote-ref role=doc-noteref>1</a></sup> を這い回ってもらいます。</p><h1 id=基礎知識>基礎知識</h1><p>前提となる基礎知識は以下のリンクを参考にしてください。</p><ul><li><a href=https://texwiki.texjp.org/TeX>TeX (TeX Wiki)</a></li><li><a href=https://texwiki.texjp.org/TikZ>TikZ/PGF (TeX Wiki)</a></li><li><a href=https://dic.pixiv.net/a/%E3%83%92%E3%83%BC%E3%83%89%E3%83%A9%E3%83%B3>ヒードラン (ピクシブ)</a></li></ul><h1 id=tex-を這い回る>TeX を這い回る</h1><p>まずは TeX を這い回ってもらいます。ただヒードランの画像を <code>\includegraphics</code> によって貼り付けるだけです<sup id=fnref:2><a href=#fn:2 class=footnote-ref role=doc-noteref>2</a></sup>。</p><div class=highlight><pre class=chroma><code class=language-TeX data-lang=TeX><span class=k>\includegraphics</span><span class=na>[scale=4]</span><span class=nb>{</span>Heatran.png<span class=nb>}</span>
</code></pre></div><figure class=center><img src=./images/fig1.svg width=320 height=453></figure><h1 id=tikz-を這い回る>TikZ を這い回る</h1><p>TeX を這い回るだけでは面白くありません。なので TikZ でドット絵を描いて這い回ってもらいます。ドット絵は大量の四角で描きます。枠無しで色を塗ると環境によっては隙間が見えてしまいます。なので，太さ <code>thin</code> の枠を設定しています。$Y$ 軸は下が正になっているので，マイナスにしています。</p><div class=highlight><pre class=chroma><code class=language-TeX data-lang=TeX><span class=k>\begin</span><span class=nb>{</span>tikzpicture<span class=nb>}</span>
	<span class=k>\draw</span> [thin,fill,color=<span class=nb>{</span>rgb,255:red,R;green,G;blue,B<span class=nb>}</span>] (X,-Y) rectangle (X+1,-Y-1);
<span class=k>\end</span><span class=nb>{</span>tikzpicture<span class=nb>}</span>
</code></pre></div><p>手作業で全ドットを描いたら大変なので，Python+OpenCV にやってもらいましょう。背景のドットは無視します。後は全画素に応じてカラーコードの設定と座標の設定をしています。当たり前ですけど，見た目は変わりません。</p><div class=highlight><pre class=chroma><code class=language-Python data-lang=Python><span class=n>img</span> <span class=o>=</span> <span class=n>cv2</span><span class=o>.</span><span class=n>imread</span><span class=p>(</span><span class=n>sys</span><span class=o>.</span><span class=n>argv</span><span class=p>[</span><span class=mi>1</span><span class=p>],</span> <span class=n>cv2</span><span class=o>.</span><span class=n>IMREAD_UNCHANGED</span><span class=p>)</span>

<span class=k>print</span><span class=p>(</span><span class=s2>&#34;</span><span class=se>\\</span><span class=s2>begin{tikzpicture}&#34;</span><span class=p>)</span>
<span class=k>for</span> <span class=n>i</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=n>img</span><span class=o>.</span><span class=n>shape</span><span class=p>[</span><span class=mi>1</span><span class=p>]):</span>
    <span class=k>for</span> <span class=n>j</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=n>img</span><span class=o>.</span><span class=n>shape</span><span class=p>[</span><span class=mi>0</span><span class=p>]):</span>
        <span class=k>if</span> <span class=n>img</span><span class=p>[</span><span class=n>i</span><span class=p>,</span><span class=n>j</span><span class=p>,</span><span class=mi>3</span><span class=p>]</span> <span class=o>==</span> <span class=mi>0</span><span class=p>:</span>
            <span class=k>continue</span>
        <span class=k>print</span><span class=p>(</span>
            <span class=s1>&#39;</span><span class=se>\t\\</span><span class=s1>draw [thin,fill,color={{rgb,255:red,{};green,{};blue,{}}}] ({},{}) rectangle ({},{});&#39;</span><span class=o>.</span><span class=n>format</span><span class=p>(</span>
                <span class=n>img</span><span class=p>[</span><span class=n>i</span><span class=p>,</span><span class=n>j</span><span class=p>,</span><span class=mi>2</span><span class=p>],</span> <span class=n>img</span><span class=p>[</span><span class=n>i</span><span class=p>,</span><span class=n>j</span><span class=p>,</span><span class=mi>1</span><span class=p>],</span> <span class=n>img</span><span class=p>[</span><span class=n>i</span><span class=p>,</span><span class=n>j</span><span class=p>,</span><span class=mi>0</span><span class=p>],</span> <span class=n>j</span><span class=p>,</span> <span class=o>-</span><span class=n>i</span><span class=p>,</span> <span class=n>j</span><span class=o>+</span><span class=mi>1</span><span class=p>,</span> <span class=o>-</span><span class=n>i</span><span class=o>-</span><span class=mi>1</span>
            <span class=p>)</span>
        <span class=p>)</span>
<span class=k>print</span><span class=p>(</span><span class=s2>&#34;</span><span class=se>\\</span><span class=s2>end{tikzpicture}&#34;</span><span class=p>)</span>
</code></pre></div><figure class=center><img src=./images/fig2.svg width=320 height=453></figure><h1 id=まとめ>まとめ</h1><p>ヒードランが壁と天井以外を這い回りました。リメイク作品でもゴキゴキしてるか楽しみです。</p><h1 id=文献>文献</h1><ol><li><a href=https://github.com/Daiji256/TeX-TikZ-Heatran>ソースコード (GitHub)</a></li><li><a href=https://texwiki.texjp.org/TeX>TeX (TeX Wiki)</a></li><li><a href=https://texwiki.texjp.org/TikZ>TikZ/PGF (TeX Wiki)</a></li><li><a href=https://dic.pixiv.net/a/%E3%83%92%E3%83%BC%E3%83%89%E3%83%A9%E3%83%B3>ヒードラン (ピクシブ)</a></li></ol><section class=footnotes role=doc-endnotes><hr><ol><li id=fn:1 role=doc-endnote><p>Ti<em>k</em>Z と表示すべきだけど，タイトルと統一するためにローマン体にしています。 <a href=#fnref:1 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p></li><li id=fn:2 role=doc-endnote><p>SVG の表示がうまくいっていないかもしれません。 <a href=#fnref:2 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p></li></ol></section></div></section></div><div class=comment-back><script src=https://utteranc.es/client.js repo=Daiji256/daiji256.github.io issue-term=url theme=github-light crossorigin=anonymous async></script></div></div><div class=toc><aside><nav id=TableOfContents><ul><li><a href=#はじめに>はじめに</a></li><li><a href=#基礎知識>基礎知識</a></li><li><a href=#tex-を這い回る>TeX を這い回る</a></li><li><a href=#tikz-を這い回る>TikZ を這い回る</a></li><li><a href=#まとめ>まとめ</a></li><li><a href=#文献>文献</a></li></ul></nav></aside></div></div><footer>© 2020–2021 Daiji - Powered by GitHub Pages & Hugo.</footer></div></body></html>